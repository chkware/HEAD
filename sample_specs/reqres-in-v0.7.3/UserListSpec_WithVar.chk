version: 'default:testcase:0.7.3'
describe: UserListSpec_WithVar {Page?}

variables: 
  Page: 1
  Response: ~
  Code: ~

request:
  method: GET
  path: "{$Env.server}/users?page={$Page}"
  return: [
    .response.code: $Code,
    .response.headers: $Headers
  ]

spec:
  execute: ~
  asserts:
    - {type: AssertEquals, actual: $Code, expected: 200}

expose: 
  - $Headers